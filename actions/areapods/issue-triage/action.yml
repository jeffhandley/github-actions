name: Area Pod Issue Triage
description: A GitHub action for handling Area Pod Issue Triage events

inputs:
  GITHUB_TOKEN:
    description: The GITHUB_TOKEN secret to use for connecting to GitHub APIs
    required: true
    default: ${{ github.token }}
  owner:
    description: The repository owner
    required: true
    type: string
  repo:
    description: The repository name
    required: true
    type: string
  issue:
    description: The issue number to triage
    required: true
    type: number
  action:
    description: The event action performed
    required: true
    type: choice
    options: [opened, closed, transferred, reopened, assigned, unassigned, labeled, unlabeled, milestoned, demilestoned]
  assignee:
    description: The assignee (assigned or unassigned)
    required: false
  label:
    description: The label (labeled or unlabeled)
    required: false

runs:
  using: docker
  image: docker://ghcr.io/jeffhandley/github-actions/areapods:main
  args: [
    "issue-triage",
    "--owner",    "${{ inputs.owner    }}",
    "--repo",     "${{ inputs.repo     }}",
    "--issue",    "${{ inputs.issue    }}",
    "--action",   "${{ inputs.action   }}",
    "--assignee", "${{ inputs.assignee }}",
    "--label",    "${{ inputs.label    }}",
  ]
  env:
    GITHUB_TOKEN: ${{ inputs.GITHUB_TOKEN }}
